<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Garden</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-slider.css">
    <link rel="stylesheet" href="css/mainStyles.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
</head>

<body onload="Connect()">
    <div class="navbar_wraper">
        <!-- will load common navbar with js $().load() method -->
    </div>
    <section class="home_header">
        <div class="container">
            <!--Main View and Room Select  -->
            <div class="row justify-content-center">

                <div class="col-3 border rounded" style="vertical-align: middle;">

                    <div class="embed-responsive embed-responsive-1by1">
                        <iframe src="https://obs.ninja/?scene=0&room=frank_group5&roombitrate=500"
                            allow="camera;microphone">
                        </iframe>
                    </div>

                    <div class="embed-responsive embed-responsive-1by1">
                        <iframe src="https://obs.ninja/?room=frank_group5&view" allow="camera;microphone">
                        </iframe>
                    </div>


                </div>

                <div class="col-8 border rounded">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe src="https://obs.ninja/?view=pyramid&bitrate=5000" allowfullscreen class="second-row"
                            title="Living Room"></iframe>
                    </div>

                    <div class="row justify-content-center" style="padding-top: 1.5%; padding-left: 0%;">

                        <div class="col-md-8 border rounded ">
                            <h5>Scene Controls</h5>
                            <div class="col-12 d-table">
                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Offset</p>
                                    <input type="range" min="-1.0" max="1.0" value="0" class="vertical" step=".01" orient="vertical"
                                        id="sliderOffset">
                                </div>

                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Speed</p>
                                    <input type="range" min="0" max="1.0" value=".1" class="vertical" step=".01" orient="vertical"
                                        id="sliderSpeed">
                                </div>

                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Period</p>
                                    <input type="range" min="0.0" max="10.0" value="1" class="vertical" step=".01" orient="vertical"
                                        id="sliderPeriod">
                                </div>

                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Amplitude</p>
                                    <input type="range" min="0.0" max="3.0" value="1" class="vertical" step=".01" orient="vertical"
                                        id="sliderAmplitude">
                                </div>


                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Wavetype</p>
                                    <input type="range" min="0" max="5" value="1" class="vertical" step="1" orient="vertical"
                                        id="waveChannel">
                                </div>


                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Channel</p>
                                    <input type="range" min="0" max="3" value="1" class="vertical" step="1" orient="vertical"
                                        id="sliderChannel">
                                </div>

                            </div>
                        </div>

                        <div class="col-md-4 border rounded">
                            <h5>Camera Controls</h5>

                            <div class="col-12 d-table">

                                <label for="PanBlock">Pan</label>
                                <div class="d-table-cell" style="vertical-align: middle;" id="PanBlock">
                                    <input type="range" min="1" max="100" value="50" class="slider" id="sliderPan">
                                </div>

                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Tilt</p>
                                    <input type="range" min="1" max="100" value="50" class="vertical" orient="vertical"
                                        id="sliderTilt">
                                </div>

                                <div class="d-table-cell" style="text-align: center;">
                                    <p>Zoom</p>
                                    <input type="range" min="1" max="100" value="50" class="vertical" orient="vertical"
                                        id="sliderZoom">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>




        </div>
    </section>

    <div class="footer_wraper">
        <!-- will load common footer with js $().load() method -->
    </div>

    <script src="dependencies/js/jquery.min.js"></script>
    <script src="dependencies/js/popper.min.js"></script>
    <script src="dependencies/js/bootstrap.min.js"></script>
    <script src="js/bootstrap-slider.js"></script>
    <script src="js/mainFunctions.js"></script>
    <script src="dependencies/js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- MQTT Websockets Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>

    <script>

        var topic = "pixelGarden"

        var sliderPan = document.getElementById("sliderPan");
        var sliderTilt = document.getElementById("sliderTilt");
        var sliderZoom = document.getElementById("sliderZoom");
        var sliderOffset = document.getElementById("sliderOffset");
        var sliderSpeed = document.getElementById("sliderSpeed");
        var sliderPeriod = document.getElementById("sliderPeriod");
        var sliderAmplitude = document.getElementById("sliderAmplitude");
        var sliderChannel = document.getElementById("sliderChannel");
        var waveChannel = document.getElementById("waveChannel");


        sliderPan.oninput = function () {
            PublishMessage("Pan/" + String(this.value), topic);
        }
        sliderTilt.oninput = function () {
            PublishMessage("Tilt/" + String(this.value), topic);
        }
        sliderZoom.oninput = function () {
            PublishMessage("Zoom/" + String(this.value), topic);
        }
        sliderOffset.oninput = function () {
            PublishMessage("Offset/" + String(this.value), topic);
        }
        sliderSpeed.oninput = function () {
            PublishMessage("Speed/" + String(this.value), topic);
        }
        sliderPeriod.oninput = function () {
            PublishMessage("Period/" + String(this.value), topic);
        }
        sliderAmplitude.oninput = function () {
            PublishMessage("Amplitude/" + String(this.value), topic);
        }
        sliderChannel.oninput = function () {
            PublishMessage("Channel/" + String(this.value), topic);
        }
        waveChannel.oninput = function () {
            PublishMessage("Wave/" + String(this.value), topic);
        }

    </script>

</body>

</html>